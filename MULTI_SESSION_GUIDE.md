# Antigravity Phone Connect - 多設備獨立連線模式說明書

## 1. 功能簡介 (Feature Overview)
本專案已升級至 **V2 多路獨立連線架構**。相對於舊版的「全域廣播」模式，新架構允許不同的設備（手機、平板、電腦瀏覽器）在連接同一個伺服器時，**各自查看不同的 Antigravity 實例 (Port)** 而不互相干擾。

### 核心優點：
- **Slot Manager (工作槽位管理)**：手機端可遠端啟動、關閉不同 Port 的進程，節省記憶體。
- **獨立控制**：手機 A 看 Port 9000，手機 B 看 Port 9001，兩者畫面互不跳轉。
- **智慧監控**：伺服器會自動偵測連線健康度，通訊凍結時會自動修復重連。
- **動態識別**：自動抓取當前 Antigravity 打開的專案/資料夾名稱。

---

## 2. 使用方法 (How to Use)

### 第一步：啟動主控伺服器
請在終端機執行 V2 伺服器腳本：
```powershell
node server_multi.js
```

### 第二步：開啟槽位管理員 (Slot Manager)
1. 在手機瀏覽器點擊頂部的 **[Port 9000]** 按鈕。
2. 彈出的選單即為您的「中央主控台」，您可以看到 9000, 9001, 9002 等槽位。
3. **啟動 (Start)**：點擊即可在電腦背景啟動 Antigravity 實體。
4. **切換 (Switch)**：切換到該頻道，系統會自動確保連線是活潑的。
5. **關閉 (Stop)**：用完後點擊 Stop 立即釋放電腦記憶體。

---

## 3. 技術優化 (Advanced Tuning)

- **連線自癒 (Self-Healing)**：若切換頻道發現畫面凍結，系統會自動在後台重連 CDP，解決「切換卡死」的問題。
- **一鍵清理 (Panic Button)**：在槽位管理員最下方有 **「Kill All」** 按鈕，可一次修復所有記憶體洩漏或進程堆積問題。

---

## 4. 如何恢復舊版模式 (Rollback)
如果您希望回到舊模式：
1. 修改 `public/index.html`，將底部的腳本引用改回：
   `<script src="js/app.js"></script>`
2. 停止當前伺服器，改執行：
   `node server.js`

---

## 5. 常見問題 (FAQ)
**Q: 如果選了某個 Port 卻沒畫面或顯示 Stopped？**
A: 請在手機面板點擊 **Start**。如果原本就有開但沒反應，先點 **Stop** 再點 **Start** 即可。

**Q: 記憶體快爆了怎麼辦？**
A: 點開槽位列表，按下最下方的 **「Panic: Kill All Instances」**。

---
*最後更新日期：2026-01-30 (Slot Manager & Path Fix 已上線)*
